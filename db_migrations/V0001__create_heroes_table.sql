CREATE TABLE IF NOT EXISTS heroes (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    rank VARCHAR(255) NOT NULL,
    image TEXT NOT NULL,
    period VARCHAR(100) NOT NULL,
    conflict VARCHAR(255) NOT NULL,
    region VARCHAR(255) NOT NULL,
    awards TEXT[] NOT NULL,
    birth_year INTEGER NOT NULL,
    biography TEXT NOT NULL,
    timeline JSONB NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_heroes_conflict ON heroes(conflict);
CREATE INDEX idx_heroes_region ON heroes(region);

INSERT INTO heroes (name, rank, image, period, conflict, region, awards, birth_year, biography, timeline) VALUES
('Алексей Петрович Маресьев', 'Лётчик-истребитель', 'https://cdn.poehali.dev/projects/43d2d783-eb2e-4d1b-8798-159071297277/files/83d53e6e-d034-40a5-a063-701c36d74b9b.jpg', '1916-2001', 'Великая Отечественная война', 'Волгоградская область', ARRAY['Герой Советского Союза', 'Орден Ленина', 'Орден Красного Знамени'], 1916, 'Советский военный лётчик-истребитель, Герой Советского Союза. Прототип героя повести Бориса Полевого «Повесть о настоящем человеке». Несмотря на тяжелое ранение и ампутацию обеих ног, вернулся в строй и продолжил сражаться с врагом.', '[{"year": 1941, "event": "Призван в РККА"}, {"year": 1942, "event": "Тяжелое ранение, ампутация ног"}, {"year": 1943, "event": "Возвращение в строй"}, {"year": 1945, "event": "Победа в войне, 86 боевых вылетов"}]'::jsonb),
('Зоя Анатольевна Космодемьянская', 'Партизанка-диверсант', 'https://cdn.poehali.dev/projects/43d2d783-eb2e-4d1b-8798-159071297277/files/c43cd418-bcaf-4c13-b400-adc568f236ed.jpg', '1923-1941', 'Великая Отечественная война', 'Тамбовская область', ARRAY['Герой Советского Союза (посмертно)', 'Орден Ленина'], 1923, 'Красноармеец диверсионно-разведывательной группы штаба Западного фронта. Первая женщина, удостоенная звания Герой Советского Союза во время Великой Отечественной войны (посмертно). Казнена немецкими захватчиками в деревне Петрищево.', '[{"year": 1941, "event": "Вступила в партизанский отряд"}, {"year": 1941, "event": "Диверсионные операции в тылу врага"}, {"year": 1941, "event": "Поимка и казнь в Петрищево"}, {"year": 1942, "event": "Присвоение звания Героя (посмертно)"}]'::jsonb),
('Александр Иванович Покрышкин', 'Маршал авиации', 'https://cdn.poehali.dev/projects/43d2d783-eb2e-4d1b-8798-159071297277/files/cda830e3-8d6c-4c05-95bc-094bab8b8ab4.jpg', '1913-1985', 'Великая Отечественная война', 'Новосибирская область', ARRAY['Герой Советского Союза (трижды)', 'Орден Ленина (6)', 'Орден Красного Знамени (4)'], 1913, 'Советский военачальник, лётчик-ас, второй по результативности (после Ивана Кожедуба) пилот-истребитель среди лётчиков стран антигитлеровской коалиции во Второй мировой войне. Сбил 59 самолётов противника лично и 6 — в группе.', '[{"year": 1939, "event": "Начало службы в ВВС"}, {"year": 1943, "event": "Первое присвоение звания Героя"}, {"year": 1943, "event": "Второе присвоение звания Героя"}, {"year": 1944, "event": "Третье присвоение звания Героя"}]'::jsonb);